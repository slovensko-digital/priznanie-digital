os: linux

language: node_js

node_js:
  - '12'

cache:
  directories:
    - node_modules
    - .next/cache
    - ~/.nvm
    - ~/.npm
    - ~/.cache

script:
  - npm run ci


# use private ssh key from env var to deploy to production ("deploy" is run on merge)
deploy:
  provider: script
  on:
    branch: master
  script: sh ./travis-deploy.sh
